<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" type="image/x-icon" href="/ccextractor-wiki-test/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>CCAligner : Word by Word Audio Subtitle Synchronisation | CCExtractor</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="CCAligner : Word by Word Audio Subtitle Synchronisation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="//Developed under Google Summer of Code, 2017 with CCExtractor Development By Saurabh Shrivastava //" />
<meta property="og:description" content="//Developed under Google Summer of Code, 2017 with CCExtractor Development By Saurabh Shrivastava //" />
<link rel="canonical" href="https://dumbmachine.github.io/ccextractor-wiki-test/2020/02/20/public-gsoc-2017-saurabh.html" />
<meta property="og:url" content="https://dumbmachine.github.io/ccextractor-wiki-test/2020/02/20/public-gsoc-2017-saurabh.html" />
<meta property="og:site_name" content="CCExtractor" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-20T00:00:00-06:00" />
<script type="application/ld+json">
{"description":"//Developed under Google Summer of Code, 2017 with CCExtractor Development By Saurabh Shrivastava //","@type":"BlogPosting","headline":"CCAligner : Word by Word Audio Subtitle Synchronisation","dateModified":"2020-02-20T00:00:00-06:00","datePublished":"2020-02-20T00:00:00-06:00","url":"https://dumbmachine.github.io/ccextractor-wiki-test/2020/02/20/public-gsoc-2017-saurabh.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://dumbmachine.github.io/ccextractor-wiki-test/2020/02/20/public-gsoc-2017-saurabh.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
  <link rel="stylesheet" href="/ccextractor-wiki-test/assets/main.css">
  <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://dumbmachine.github.io/ccextractor-wiki-test/feed.xml" title="CCExtractor" />

  <script>
  function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
  }
  window.onload = wrap_img;
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function(){
      // add link icon to anchor tags
      var elem = document.querySelectorAll(".anchor-link")
      elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
      // remove paragraph tags in rendered toc (happens from notebooks)
      var toctags = document.querySelectorAll(".toc-entry")
      toctags.forEach(e => (e.firstElementChild.innerText = e.firstElementChild.innerText.replace('¶', '')))
    });
  </script>
</head><body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/ccextractor-wiki-test/">CCExtractor</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/ccextractor-wiki-test/about/">About Me</a><a class="page-link" href="/ccextractor-wiki-test/search/">Search</a><a class="page-link" href="/ccextractor-wiki-test/categories/">Tags</a><a class="page-link" href="/ccextractor-wiki-test/_pages/Gsoc%20start%20here.html">Google Summer of Code 2020</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">CCAligner : Word by Word Audio Subtitle Synchronisation</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-02-20T00:00:00-06:00" itemprop="datePublished">
        Feb 20, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>//Developed under Google Summer of Code, 2017 with CCExtractor Development By <a href="https://github.com/saurabhshri">Saurabh Shrivastava</a>
//</p>

<h2 id="blog-entry-for-final-submission--httpssaurabhshrigithubiogsoc-final-submission-"><em>Blog entry for final submission : (https:</em>saurabhshri.github.io/gsoc-final-submission/) //</h2>

<h2 id="introduction">Introduction</h2>

<p>The usual subtitle files (such as SubRips) have line by line synchronisation in them i.e. the subtitles containing the dialogue appear when the person starts talking and disappears when the dialogue finishes. This continues for the whole video. For example :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1274
01:55:48,484 -&gt; 01:55:50,860
The Force is strong with this one
</code></pre></div></div>

<p>In the above example, the dialogue ‘‘#1274’’ - ‘‘The Force is strong with this one’’ appears at ‘‘1:55:48’’ remains in the screen for two seconds and disappears at ‘‘1:55:50’’.</p>

<p>The aim of my GSoC project was to build a tool for word by word synchronisation of subtitles with audio present in the video by tagging each individual word as it is spoken, similar to that in karaoke systems. I have named my project CCAligner as it conveniently lays out it’s basic functionality.</p>

<p>E.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The           [6948484:6948500]
Force         [6948501:6948633]
is            [6948634:6948710]
strong        [6948711:6949999]
with          [6949100:6949313]
</code></pre></div></div>

<p>In the above example each word from subtitle is tagged with beginning and ending timestamps based on audio.</p>

<div class="video">
<figure>
    <iframe width="640" height="480" src="//www.youtube.com/embed/38_27E1PxXA" frameborder="0" allowfullscreen=""></iframe>
</figure>
</div>
<p>\</p>

<p>CCAligner makes use of automatic speech recognition to analyse audio and recognise words to perform alignment. The project comprises of both user friendly tool and developer friendly API.</p>

<h2 id="project-related-links">Project Related Links</h2>

<ul>
  <li>
    <p>Project repository on Github: https://github.com/saurabhshri/CCAligner</p>
  </li>
  <li>
    <p>Project readme : https://github.com/saurabhshri/CCAligner/blob/master/README.adoc</p>
  </li>
  <li>
    <p>Project documentation : https://github.com/saurabhshri/CCAligner/blob/master/docs/</p>
  </li>
  <li>
    <p>My blog (includes weekly GSoC posts) : https://saurabhshri.github.io</p>
  </li>
  <li>
    <p>Milestones and deliverable checklist : https://saurabhshri.github.io/gsoc/</p>
  </li>
  <li>
    <p>Project link on official GSoC web-app : https://summerofcode.withgoogle.com/projects/#5589068587991040</p>
  </li>
  <li>
    <p>Project proposal : https://github.com/saurabhshri/saurabhshri.github.io/blob/master/GSoC/</p>
  </li>
  <li>
    <p>Mentors : <a href="https://github.com/cfsmp3"> @cfsmp3</a> and <a href="https://github.com/AlexBratosin2001"> @AlexBratosin2001</a></p>
  </li>
</ul>

<p>The project was built by me individually. All the external libraries and code used are credited wherever due.</p>

<h2 id="technical-documentation">Technical Documentation</h2>

<p>All the technical details are commented in the codes and the documentation is available in the readme of the repository (linked above). Code is properly commented and the variables, classes and other components are named properly in Camel Case for easier understanding of the code. Find compiling, installing, usage instructions and docs here :</p>

<ul>
  <li>https://github.com/saurabhshri/CCAligner</li>
</ul>

<h2 id="additional-work">Additional Work</h2>

<p>In addition to my main project, I also worked on creating a single header SubRip subtitle parser library in C++ and contributing to various open source projects, including, but not limited to CCExtractor, Sample-Platform, AutoEdit2, Rhubarb Lip Sync, CMUSphinx.</p>

<ol>
  <li>Created a single header SubRip subtitle parser library in C++. This served as a core in CCAligner subtitle handling. It has very huge number of options available, and is very simple to use.</li>
</ol>

<ul>
  <li>
    <p>Project repository : https://github.com/saurabhshri/simple-yet-powerful-srt-subtitle-parser-cpp</p>
  </li>
  <li>
    <p>Documentation : https://github.com/saurabhshri/CCAligner/tree/master/docs</p>
  </li>
</ul>

<ol>
  <li>Improving existing CCExtractor features, fixing issues and help in PR and code reviews.</li>
</ol>

<ul>
  <li>All my commits to CCExtractor repository : https://github.com/CCExtractor/ccextractor/commits?author=saurabhshri</li>
</ul>

<ol>
  <li>Improving CCExtractor’s sample-platform, fixing and reporting issues, and help in PR and code reviews.</li>
</ol>

<ul>
  <li>All my commits to Sample-Platform repository : https://github.com/canihavesomecoffee/sample-platform/commits?author=saurabhshri</li>
</ul>

<ol>
  <li>Link to my Github profile : https://github.com/saurabhshri</li>
</ol>

<h2 id="some-demostrations">Some Demostrations</h2>

<div class="video">
<figure>
    <iframe width="640" height="480" src="//www.youtube.com/embed/6VnhC8u_d40" frameborder="0" allowfullscreen=""></iframe>
</figure>
</div>
<ul>
  <li>Karaoke Demo 2 [Ted Talk]</li>
</ul>

<p>\</p>

<div class="video">
<figure>
    <iframe width="640" height="480" src="//www.youtube.com/embed/j_zeixo-zJY" frameborder="0" allowfullscreen=""></iframe>
</figure>
</div>
<ul>
  <li>Karaoke Demo 3 [Cartoon Show]</li>
</ul>

<p>\</p>

<div class="video">
<figure>
    <iframe width="640" height="480" src="//www.youtube.com/embed/8tTDX6NZGsU" frameborder="0" allowfullscreen=""></iframe>
</figure>
</div>
<ul>
  <li>Karaoke Demo 4 [Discussion Video]</li>
</ul>

<p>\</p>

<div class="video">
<figure>
    <iframe width="640" height="480" src="//www.youtube.com/embed/tFrf0TVnqIQ" frameborder="0" allowfullscreen=""></iframe>
</figure>
</div>
<ul>
  <li>Transcription Demo [Reality Show]</li>
</ul>

<p>\</p>

<h2 id="third-party-libraries-and-dependencies">Third party libraries and dependencies</h2>

<p>All the third party libraries are located in <code class="language-plaintext highlighter-rouge">src/lib_ext</code> and along with their individual licenses.</p>

<ol>
  <li>
    <p>PocketSphinx : PocketSphinx is a lightweight speech recognition engine. It is portable and is used in ASR based alignment. <em>(https:</em>github.com/cmusphinx/pocketsphinx)//</p>
  </li>
  <li>
    <p>SphinxBase : Basic libraries as well as some common utilities for manipulating acoustic feature and audio files. This is used by PocketSphinx. <em>(https:</em>github.com/cmusphinx/sphinxbase)//</p>
  </li>
  <li>
    <p>srtparser.h : srtparser.h is a single header, simple and powerful C++ srt subtitle parsing library that allows to easily handle, process and manipulate srt subtitle files. <em>(https:</em>github.com/saurabhshri/simple-yet-powerful-srt-subtitle-parser-cpp)//</p>
  </li>
  <li>
    <p>webRTC : WebRTC is a free, open project that provides browsers and mobile applications with Real-Time Communications (RTC) capabilities via simple APIs. It is used to perform VAD in the project. <em>(https:</em>webrtc.org)//</p>
  </li>
</ol>

<h2 id="known-issues--future-work-needed">Known Issues / Future Work Needed</h2>

<p>The project is in it’s very early stage and is constantly evolving. The available functions, usage instructions et cetera are expected to refactor over time. Feel free to contribute and improve the project.
Currently, officially only US English is supported. For other languages and accents, a proper trained acoustic model could be supplied and experimented with. Text tokenisation within the program needs improvement. Feel free to raise any issue in the repository’s issue tracker : https://github.com/saurabhshri/ccaligner/issues</p>

<h2 id="read-more">Read More</h2>

<p>More information and news related to project could be found at the links attached above and would be posted from time to time on my blog : https://saurabhshri.github.io</p>

  </div><a class="u-url" href="/ccextractor-wiki-test/2020/02/20/public-gsoc-2017-saurabh.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/ccextractor-wiki-test/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">CCExtractor</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">CCExtractor</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li><a href="https://github.com/DumbMachine"><svg class="social svg-icon"><use xlink:href="/ccextractor-wiki-test/assets/minima-social-icons.svg#github"></use></svg> <span class="username">DumbMachine</span></a></li><li><a href="https://www.twitter.com/nothing"><svg class="social svg-icon"><use xlink:href="/ccextractor-wiki-test/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">nothing</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Test to try and use fastpages to host GSOC 2020 related data of dokuwiki based CCExtractor blog on fastpages</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
